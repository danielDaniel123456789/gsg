<!DOCTYPE html>
<html>
<head>
  <title>SQLite en el navegador</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/sql.js/1.8.0/sql-wasm.js"></script>
</head>
<body>
  <h1>SQLite en el navegador</h1>
  <button onclick="createTable()">Crear Tabla</button>
  <button onclick="insertData()">Insertar Datos</button>
  <button onclick="selectData()">Cargar Datos</button>
  <div id="output"></div>

  <script>
    let db;

    // Inicializa SQLite con un archivo precargado
    window.onload = async () => {
      const SQL = await initSqlJs();

      // Cargar el archivo de base de datos desde GitHub Pages
      const response = await fetch("database.sqlite"); // Aseg√∫rate de subir este archivo a tu repositorio
      const buffer = await response.arrayBuffer();
      db = new SQL.Database(new Uint8Array(buffer)); // Cargar el contenido en memoria

      document.getElementById("output").innerText = "Base de datos cargada.";
    };

    function createTable() {
      db.run("CREATE TABLE ejemplo (id INTEGER, nombre TEXT);");
      document.getElementById("output").innerText = "Tabla creada.";
    }

    function insertData() {
      db.run("INSERT INTO ejemplo (id, nombre) VALUES (1, 'Daniel');");
      document.getElementById("output").innerText = "Dato insertado.";
    }

    function selectData() {
      const res = db.exec("SELECT * FROM ejemplo;");
      document.getElementById("output").innerText = JSON.stringify(res);
    }
  </script>
</body>
</html>
